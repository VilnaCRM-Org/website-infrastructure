data "aws_iam_policy_document" "iam_policy_doc" {
  statement {
    sid    = "IAMPassRolePolicy"
    effect = "Allow"
    actions = [
      "iam:ListRoleTags",
      "iam:ListServerCertificates",
      "iam:ListPoliciesGrantingServiceAccess",
      "iam:ListInstanceProfileTags",
      "iam:ListServiceSpecificCredentials",
      "iam:ListMFADevices",
      "iam:ListSigningCertificates",
      "iam:ListVirtualMFADevices",
      "iam:ListInstanceProfilesForRole",
      "iam:ListSSHPublicKeys",
      "iam:ListAttachedRolePolicies",
      "iam:ListOpenIDConnectProviderTags",
      "iam:ListAttachedUserPolicies",
      "iam:ListSAMLProviderTags",
      "iam:ListAttachedGroupPolicies",
      "iam:ListPolicyTags",
      "iam:ListRolePolicies",
      "iam:ListAccessKeys",
      "iam:ListPolicies",
      "iam:ListSAMLProviders",
      "iam:ListCloudFrontPublicKeys",
      "iam:ListGroupPolicies",
      "iam:ListEntitiesForPolicy",
      "iam:ListRoles",
      "iam:ListUserPolicies",
      "iam:ListInstanceProfiles",
      "iam:ListPolicyVersions",
      "iam:ListOpenIDConnectProviders",
      "iam:ListGroupsForUser",
      "iam:ListServerCertificateTags",
      "iam:ListAccountAliases",
      "iam:ListUsers",
      "iam:ListGroups",
      "iam:ListMFADeviceTags",
      "iam:ListSTSRegionalEndpointsStatus",
      "iam:GetLoginProfile",
      "iam:ListUserTags",
      "iam:GetAccountSummary",
      "iam:GenerateCredentialReport",
      "iam:GetPolicyVersion",
      "iam:GetAccountPasswordPolicy",
      "iam:GetMFADevice",
      "iam:GetServiceLastAccessedDetailsWithEntities",
      "iam:GenerateServiceLastAccessedDetails",
      "iam:GetServiceLastAccessedDetails",
      "iam:GetGroup",
      "iam:GetContextKeysForPrincipalPolicy",
      "iam:GetOrganizationsAccessReport",
      "iam:GetServiceLinkedRoleDeletionStatus",
      "iam:SimulateCustomPolicy",
      "iam:SimulatePrincipalPolicy",
      "iam:GenerateOrganizationsAccessReport",
      "iam:GetAccountEmailAddress",
      "iam:GetCloudFrontPublicKey",
      "iam:GetAccountAuthorizationDetails",
      "iam:GetCredentialReport",
      "iam:GetSAMLProvider",
      "iam:GetServerCertificate",
      "iam:GetRole",
      "iam:GetInstanceProfile",
      "iam:GetPolicy",
      "iam:GetAccessKeyLastUsed",
      "iam:GetSSHPublicKey",
      "iam:GetContextKeysForCustomPolicy",
      "iam:GetUserPolicy",
      "iam:GetAccountName",
      "iam:GetGroupPolicy",
      "iam:GetUser",
      "iam:GetOpenIDConnectProvider",
      "iam:GetRolePolicy"
    ]
    resources = [
      "arn:aws:iam::${local.account_id}:*"
    ]
  }
}
